<!DOCTYPE html>
<html lang="en">
<head class="goog-te-banner-frame">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Вариант с Google Translate встроенным переводчиком</title>
</head>
<body>

    <!-- Google Translate (скрытый контейнер) -->
    <div id="google_translate_element" style="display: none;"></div>

    <!-- Кастомные кнопки (защита от перевода) -->
    <div class="translate-buttons">
        <button class="notranslate" onclick="changeLanguage('en')">EN</button>
        <button class="notranslate" onclick="changeLanguage('de')">DE</button>
        <button class="notranslate" onclick="changeLanguage('ru')">RU</button>
    </div>

    <h1 id="title">Привет, мир!</h1>
    <p id="description">Это многоязычная страница с переключением языка.</p>

    <script>
        // Инициализация Google Translate
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ru',
                autoDisplay: false
            }, 'google_translate_element');
        }

        // Подключаем Google Translate API
        (function() {
            let script = document.createElement('script');
            script.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
            document.body.appendChild(script);
        })();

        // Функция смены языка через встроенный Google Translate
        function changeLanguage(lang) {
            let select = document.querySelector(".goog-te-combo");
            if (select) {
                select.value = lang;
                select.dispatchEvent(new Event("change"));
            } else {
                alert("Google Translate еще загружается, попробуйте чуть позже.");
            }
        }

        // Убираем баннер Google Translate после загрузки страницы
document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
        let frame = document.querySelector(".goog-te-banner-frame");
        if (frame) {
            frame.style.display = "none";
        }

        let banner = document.querySelector(".goog-te-banner");
        if (banner) {
            banner.style.display = "none";
        }

        document.body.style.top = "0px";
    }, 1000);
});
    </script>

</body>
</html>