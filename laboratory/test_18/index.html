<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Вариант с Google Translate встроенным переводчиком</title>

    <style>
        /* Убираем баннер Google Translate */
        .goog-te-banner-frame {
            display: none !important;
        }

        .goog-te-gadget {
            display: none !important;
        }

        /* Сбрасываем top, если Google Translate добавил отступ */
        body {
            top: 0px !important;
            position: relative !important;
        }
    </style>
</head>
<body>

    <!-- Google Translate (скрытый контейнер) -->
    <div id="google_translate_element" style="display: none;"></div>

    <!-- Кастомные кнопки -->
    <div class="translate-buttons">
        <button class="notranslate" onclick="changeLanguage('en')">EN</button>
        <button class="notranslate" onclick="changeLanguage('de')">DE</button>
        <button class="notranslate" onclick="changeLanguage('ru')">RU</button>
    </div>

    <h1 id="title">Привет, мир!</h1>
    <p id="description">Это многоязычная страница с переключением языка.</p>

    <script>
        // Инициализация Google Translate
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ru',
                autoDisplay: false
            }, 'google_translate_element');
        }

        // Подключаем Google Translate API
        (function() {
            let script = document.createElement('script');
            script.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
            document.body.appendChild(script);
        })();

        // Функция смены языка
        function changeLanguage(lang) {
            let select = document.querySelector(".goog-te-combo");
            if (select) {
                select.value = lang;
                select.dispatchEvent(new Event("change"));
            } else {
                alert("Google Translate еще загружается, попробуйте чуть позже.");
            }
        }

        // Убираем баннер Google Translate
        document.addEventListener("DOMContentLoaded", function () {
            setTimeout(function () {
                let frame = document.querySelector(".goog-te-banner-frame");
                if (frame) frame.remove();

                let banner = document.querySelector(".goog-te-banner");
                if (banner) banner.remove();

                document.body.style.top = "0px";
            }, 500);
        });

        setInterval(function () {
            let frame = document.querySelector(".goog-te-banner-frame");
            if (frame) frame.remove();

            let banner = document.querySelector(".goog-te-banner");
            if (banner) banner.remove();
        }, 500);
    </script>

</body>
</html>